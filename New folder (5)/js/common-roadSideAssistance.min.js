$(function() {
    $(document).on('click','.rsaCtaSubmit',function(){
        let iconText;
        let clickText = $(this).text().trim();
        let nextUrl = $(this).attr("href");
        if(nextUrl == undefined){
            nextUrl = "";
        }
        let headingName = $(this).siblings(".rsaCtaHeading").text().trim();
        let sectionHeadingName = $("#sectionHeading").text().trim();
        let iconNew = $(this).parent(".benefits-rsa-txt").parent(".benefits-rsa").parent(".tab-pane").attr("id");
        $(".rsa-tab").children("ul").children("li").children("a").each(function(){
            let tabNhref = $(this).attr("href");
            tabNhref = tabNhref.replace("#","");
            if(tabNhref == iconNew){
               iconText = $(this).children(".crouselIconText").text().trim();
            }
           });
        dataLayer.push({
            'event':'rsaCarousel',
            'eventCategory':'rsaCarousel',
            'eventAction': clickText,
            'eventLabel': nextUrl,
            'sectionHeading': sectionHeadingName,
            'headingName':headingName,
            'iconText':iconText
         });

    });    

    $(document).on('click','.crouselIcon',function(){
        let headingName;
        let iconText = $(this).children(".crouselIconText").text().trim();
        let nextUrl = $(this).attr("href");
        if(nextUrl == undefined){
            nextUrl = "";
        }
        let sectionHeadingName = $("#sectionHeading").text().trim();
        $(".tab-content").children(".tab-pane").each(function(){
         let tabNhref = $(this).attr("id");
             tabNhref= "#"+tabNhref;
         if(tabNhref == nextUrl){
            headingName = $(this).children(".benefits-rsa").children(".benefits-rsa-txt").children(".rsaCtaHeading").text().trim();
         }
        });
        dataLayer.push({
            'event':'rsaCarousel',
            'eventCategory':'rsaCarousel',
            'eventAction': iconText,
            'eventLabel': nextUrl,
            'sectionHeading': sectionHeadingName,
            'headingName':headingName,
            'iconText':iconText
         });

    });  

});
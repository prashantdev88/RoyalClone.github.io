!function(){function g(a){a=Array.isArray(a)?{label:a[0],value:a[1]}:"object"==typeof a&&"label"in a&&"value"in a?a:{label:a,value:a};this.label=a.label||a.value;this.value=a.value}function m(a,b,d){for(var f in b){var c=b[f],e=a.input.getAttribute("data-"+f.toLowerCase());"number"==typeof c?a[f]=parseInt(e):!1===c?a[f]=null!==e:c instanceof Function?a[f]=null:a[f]=e;a[f]||0===a[f]||(a[f]=f in d?d[f]:c)}}function c(a,b){return"string"==typeof a?(b||document).querySelector(a):a||null}function h(a,
b){return k.call((b||document).querySelectorAll(a))}function l(){h("input.awesomplete").forEach(function(a){new e(a)})}var e=function(a,b){var d=this;Awesomplete.count=(Awesomplete.count||0)+1;this.count=Awesomplete.count;this.isOpened=!1;this.input=c(a);this.input.setAttribute("autocomplete","off");this.input.setAttribute("aria-owns","awesomplete_list_"+this.count);this.input.setAttribute("role","combobox");b=b||{};m(this,{minChars:2,maxItems:10,autoFirst:!1,data:e.DATA,filter:e.FILTER_CONTAINS,
sort:!1!==b.sort&&e.SORT_BYLENGTH,item:e.ITEM,replace:e.REPLACE},b);this.index=-1;this.container=c.create("div",{className:"awesomplete",around:a});this.ul=c.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container});this.status=c.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."});
this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(a){var b=a.keyCode;d.opened&&(13===b&&d.selected?(a.preventDefault(),d.select()):27===b?d.close({reason:"esc"}):38!==b&&40!==b||(a.preventDefault(),d[38===b?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(a){var b=a.target;if(b!==this){for(;b&&!/li/i.test(b.nodeName);)b=b.parentNode;b&&0===a.button&&(a.preventDefault(),d.select(b,a.target))}}}};
c.bind(this.input,this._events.input);c.bind(this.input.form,this._events.form);c.bind(this.ul,this._events.ul);this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||b.list||[];e.all.push(this)};e.prototype={set list(a){if(Array.isArray(a))this._list=a;else if("string"==typeof a&&-1<a.indexOf(","))this._list=a.split(/\s*,\s*/);else if((a=c(a))&&a.children){var b=[];k.apply(a.children).forEach(function(a){if(!a.disabled){var d=
a.textContent.trim(),c=a.value||d;a=a.label||d;""!==c&&b.push({label:a,value:c})}});this._list=b}document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.isOpened},close:function(a){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,c.fire(this.input,"awesomplete-close",a||{}))},open:function(){this.ul.removeAttribute("hidden");this.isOpened=!0;this.autoFirst&&-1===this.index&&this.goto(0);c.fire(this.input,"awesomplete-open")},
destroy:function(){c.unbind(this.input,this._events.input);c.unbind(this.input.form,this._events.form);var a=this.container.parentNode;a.insertBefore(this.input,this.container);a.removeChild(this.container);this.input.removeAttribute("autocomplete");this.input.removeAttribute("aria-autocomplete");a=e.all.indexOf(this);-1!==a&&e.all.splice(a,1)},next:function(){var a=this.ul.children.length;this.goto(this.index<a-1?this.index+1:a?0:-1)},previous:function(){var a=this.ul.children.length,b=this.index-
1;this.goto(this.selected&&-1!==b?b:a-1)},goto:function(a){var b=this.ul.children;this.selected&&b[this.index].setAttribute("aria-selected","false");this.index=a;-1<a&&0<b.length&&(b[a].setAttribute("aria-selected","true"),this.status.textContent=b[a].textContent+", list item "+(a+1)+" of "+b.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=b[a].offsetTop-this.ul.clientHeight+b[a].clientHeight,c.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},
select:function(a,b){if(a?this.index=c.siblingIndex(a):a=this.ul.children[this.index],a){var d=this.suggestions[this.index];c.fire(this.input,"awesomplete-select",{text:d,origin:b||a})&&(this.replace(d),this.close({reason:"select"}),c.fire(this.input,"awesomplete-selectcomplete",{text:d}))}},evaluate:function(){var a=this,b=this.input.value;b.length>=this.minChars&&0<this._list.length?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(d){return new g(a.data(d,b))}).filter(function(d){return a.filter(d,
b)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(d,c){a.ul.appendChild(a.item(d,b,c))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}};e.all=[];e.FILTER_CONTAINS=function(a,
b){return RegExp(c.regExpEscape(b.trim()),"i").test(a)};e.FILTER_STARTSWITH=function(a,b){return RegExp("^"+c.regExpEscape(b.trim()),"i").test(a)};e.SORT_BYLENGTH=function(a,b){return a.length!==b.length?a.length-b.length:a<b?-1:1};e.ITEM=function(a,b,d){return c.create("li",{innerHTML:""===b.trim()?a:a.replace(RegExp(c.regExpEscape(b.trim()),"gi"),"\x3cmark\x3e$\x26\x3c/mark\x3e"),"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+d})};e.REPLACE=function(a){this.input.value=a.value};
e.DATA=function(a){return a};Object.defineProperty(g.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}});g.prototype.toString=g.prototype.valueOf=function(){return""+this.label};var k=Array.prototype.slice;c.create=function(a,b){a=document.createElement(a);for(var d in b){var f=b[d];"inside"===d?c(f).appendChild(a):"around"===d?(f=c(f),f.parentNode.insertBefore(a,f),a.appendChild(f)):d in a?a[d]=f:a.setAttribute(d,f)}return a};c.bind=function(a,b){if(a)for(var d in b){var c=
b[d];d.split(/\s+/).forEach(function(b){a.addEventListener(b,c)})}};c.unbind=function(a,b){if(a)for(var c in b){var f=b[c];c.split(/\s+/).forEach(function(b){a.removeEventListener(b,f)})}};c.fire=function(a,b,c){var d=document.createEvent("HTMLEvents");d.initEvent(b,!0,!0);for(var e in c)d[e]=c[e];return a.dispatchEvent(d)};c.regExpEscape=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$\x26")};c.siblingIndex=function(a){for(var b=0;a=a.previousElementSibling;b++);return b};"undefined"!=typeof Document&&
("loading"!==document.readyState?l():document.addEventListener("DOMContentLoaded",l));e.$=c;e.$$=h;"undefined"!=typeof self&&(self.Awesomplete=e);"object"==typeof module&&module.exports&&(module.exports=e)}();
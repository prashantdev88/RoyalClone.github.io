
var rideId;
var joinRidePath;
var path;
var pageUrl;

$(function () {
	pageUrl = window.location.href;
    rideId = $('#marqueeRide').attr('data-ride');
//    joinRidePath = $(".join-ride").attr('data-join');
//    if(joinRidePath != undefined){
//    joinRidePath = joinRidePath.replace("/content/royal-enfield", "")
//    path = joinRidePath + ".html?rideId=" + rideId;
//    $('a.join-ride').attr('href', path);
//
//    }
        $(".icon-fb").click(function () {
        window.open(
            "https://www.facebook.com/sharer/sharer.php?kid_directed_site=0&sdk=joey&u="+pageUrl+"&display=popup&ref=plugin&src=share_button"
        );
    });
    $(".icon-wh").click(function () {
        window.open("https://api.whatsapp.com/send?text=" + pageUrl);
    });


    $(".icon-tw").click(function () {
        window.open(
            "https://twitter.com/intent/tweet?url=" +
            pageUrl +
            "&display=popup&ref=plugin&src=share_button"
        );
    });

      $(".sharebtn").click(function(){
    $(".one-ride-cntry-share-posabs").toggle();
  });


  $(".sharebtn").click(function(){
  $(".sharebtn").toggleClass("look-arrow");
});
});

$(document).ready(function(){
	if (!$(".join-ride").length) {
	      $(".black-cards")
				.addClass("without-join-ride");

	     $(".one-ride-overview-detail .dropdown")
				.addClass("without-join-ride");

	    } else {
	      $(".black-cards")
				.removeClass("without-join-ride");

	         $(".one-ride-overview-detail .dropdown")
				.removeClass("without-join-ride");


	    }
    	$('body').removeClass("modal-open");
        $("#showJoinRide").on("click", function() {
            $("#joinRideFormMain").show();
            $("#joinRideForm #firstName").focus();
        });
	  });

function closeSocialize() {
    $('.sharebtn').removeClass("look-arrow");
    $(".one-ride-cntry-share-posabs").toggle();
}
$(function(){
function marqueeRideDetailOneRideAna(ctaText,nextPageURL){
    dataLayer.push({
        'event':'marqueeRideDetail',
        'eventCategory':'marqueeRideDetail',
        'eventAction':ctaText,
        'eventLabel':nextPageURL,
    })
}

$(document).on("click",".marqueerideAna",function(){
   let ctaText = $(this).text().trim();
   let nextPage = $(this).attr("href");
   if(nextPage == undefined || nextPage == "javascript:void(0);"){
    nextPage = ""
   }
   marqueeRideDetailOneRideAna(ctaText,nextPage);
});

$(".sharebtn").siblings(".one-ride-cntry-share-posabs").children("a").on("click",function(e){
    e.preventDefault();
    let ctaText = $(this).attr("name-attr");
    marqueeRideDetailOneRideAna(ctaText,"");
 });
 
 $(".marqueridepiana").parent("li").on("click",function(){
    let ctaText = $(this).children(".marqueridepiana").attr("name-attr");
    marqueeRideDetailOneRideAna(ctaText,"");
 });

 $(document).on("click",".sharebtn",function(){
    let ctaText = $(this).text().trim();
    let nextPage = $(this).attr("href");
    if(nextPage == undefined || nextPage == "javascript:void(0);"){
     nextPage = ""
    }
    marqueeRideDetailOneRideAna(ctaText,nextPage);
 });

})

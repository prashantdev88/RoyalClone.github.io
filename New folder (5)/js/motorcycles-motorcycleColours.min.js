$(function() {
  $(document).on('click','#colorsCrousel .slick-list .slick-track .slick-slide',function(){
    let bikeView = $("#colorsCrousel").parent(".sb-thumb-inner").parent(".container-fluid").parent(".showcase-bike-thumb").siblings("#motorcycleCarouselView").children("div").children("div").children(".slick-active").children("div").children(".c-item").children(".carousel-showcase-bike").children(".slick-list").children(".slick-track").children(".slick-center").children("div").children(".c-item").children("img").attr("src");
      let imageAltText = $(this).children("div").children(".c-item").children(".inner-image").children("img").attr("alt");
      let nextUrl = $(this).children("div").children(".c-item").children(".inner-image").children("img").attr("src");
      if(nextUrl == undefined){
          nextUrl = "";
      }
        if(bikeView){
          let parts = bikeView.split("/");
              bikeView = parts[parts.length-1];
              bikeView = bikeView.replace(".png","");
        }
      dataLayer.push({
        'event':'motorcycleColours',
        'eventCategory':'motorcycleColours',
        'eventAction':'colours',
        'eventLabel':nextUrl,
        'bikeColour':imageAltText,
        'bikeView':bikeView
     });

  });    

  $(document).on('click','#motorcycleViewCrousel .carousel-showcase-bike .slick-list .slick-track .slick-slide',function(){
    let bikeView;
    let imageAltText = $("#colorsCrousel").children(".slick-list").children(".slick-track").children(".slick-current").children("div").children(".c-item").children(".inner-image").children("img").attr("alt");
    let nextUrl = $(this).children("div").children(".c-item").children("img").attr("src");
    if(nextUrl == undefined){
        nextUrl = "";
    }else{
        let parts = nextUrl.split("/");
        bikeView = parts[parts.length-1];
    }
    if(bikeView){
      bikeView = bikeView.replace(".png","");
    }
    dataLayer.push({
      'event':'motorcycleColours',
      'eventCategory':'motorcycleColours',
      'eventAction':'colours',
      'eventLabel':nextUrl,
      'bikeColour':imageAltText,
      'bikeView':bikeView
   });

});

});
// colors
//colours section || showcase all the colours of bike [START]
$(document).ready(function() {
    $(".carousel-colours-nested").slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      fade: true,
      infinite: true,
      speed: 500,
      touchThreshold: 15,
      swipe: false,
      asNavFor: ".carousel-colours-thumb"
    });
  
    //thumb
    var clr_thumb = $(".carousel-colours-thumb");
  
    if ($(".carousel-colours-thumb .c-item").length == 1) {
      clr_thumb.slick({
        slidesToShow: 1,
        centerMode: false,
        arrows: false,
        dots: false,
        infinite: false,
        swipe: false,
        focusOnSelect: true,
        speed: 500,
        asNavFor: ".carousel-colours-nested"
      });
    } else if ($(".carousel-colours-thumb .c-item").length == 2) {
      clr_thumb.slick({
        slidesToShow: 2,
        centerMode: false,
        arrows: false,
        dots: false,
        infinite: false,
        swipe: false,
        focusOnSelect: true,
        speed: 500,
        asNavFor: ".carousel-colours-nested"
      });
    } else if ($(".carousel-colours-thumb .c-item").length == 3) {
      clr_thumb.slick({
        slidesToShow: 3,
        centerMode: false,
        arrows: false,
        dots: false,
        infinite: false,
        swipe: false,
        focusOnSelect: true,
        speed: 500,
        asNavFor: ".carousel-colours-nested"
      });
    } else {
      clr_thumb.slick({
        slidesToShow: 4,
        slidesToScroll: 1,
        asNavFor: ".carousel-colours-nested",
        dots: false,
        centerMode: true,
        centerPadding: "50px",
        arrows: false,
        focusOnSelect: true,
        swipe: true,
        infinite: true,
        speed: 500,
        touchThreshold: 15,
        responsive: [
          {
            breakpoint: 900,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 1,
              speed: 150,
              centerMode: true,
              centerPadding: "30px",
              touchThreshold: 15
            }
          },
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 1,
              speed: 150,
              centerMode: true,
              centerPadding: "30px",
              touchThreshold: 15
            }
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 1,
              centerMode: true,
              centerPadding: "30px",
              touchThreshold: 15,
              speed: 150
            }
          }
        ]
      });
    }
  
    //colours showcase the bike's
    $(".carousel-showcase-bike").slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      arrows: false,
      fade: false,
      infinite: true,
      speed: 500,
      centerMode: true,
      centerPadding: "30px",
      initialSlide: 1,
      focusOnSelect: true,
      touchThreshold: 15,
      responsive: [
        {
          breakpoint: 900,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            speed: 150,
            centerMode: false,
            touchThreshold: 15,
            dots: true
          }
        }
      ]
    });
  
    // On before slide change
    $(".carousel-colours-thumb").on("beforeChange", function(
      event,
      slick,
      currentSlide,
      nextSlide
    ) {
      $(".carousel-showcase-bike").slick("refresh");
    });
  
    // // On swipe event
    // $('.carousel-colours-thumb').on('swipe', function(event, slick, direction){
    //   // left
    // 	$('.carousel-showcase-bike').slick('reinit');
    // });
  
    // // On edge hit
    // $('.carousel-colours-thumb').on('edge', function(event, slick, direction){
    // 	$('.carousel-showcase-bike').slick('reinit');
    // });
    var element = document.querySelectorAll(".carousel-colours-thumb .slick-list .slick-track .slick-slide").length;
    var screenWidth = window.screen.width;
    if(element <=2 && screenWidth<= 599 ){
            $(".carousel-colours-thumb .slick-list .slick-track").addClass("no-transform");
    }else if(element <=3 && screenWidth>=600 &&screenWidth<=899){
      $(".carousel-colours-thumb .slick-list .slick-track").addClass("no-transform");
    }else if(element <=4 && screenWidth>= 900){
      $(".carousel-colours-thumb .slick-list .slick-track").addClass("no-transform");
    }else{
        $(".carousel-colours-thumb .slick-list .slick-track").removeClass("no-transform");
    }
  });
  
  

